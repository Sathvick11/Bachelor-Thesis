{
    "pv_calculator":
    {
        "description": "general time-based approach to calculate FET losses in power electronis made of multiple half-bridges in short calculation time",
        "inputs":
        {
            "fet_engergy_loss_data":
            {
                "description": "file containing the FET loss parameters. Formatting: HSN (N is the FET number), LSN, UdcVec, IphVec, TjVec, MatrixSetup, numP, deadTime, Udon, name, log",
                "header": false,
                "units": {"fet_data": "", "UdcVec": "V", "IphVec": "A", "TjVec": "C", "MatrixSetup": "", "numP": "", "deadTime": "s", "Udon": "V", "name": "", "log": ""},
                "optional": false,
                "name": "04_Input/01_FET_data/",
                "format": "mat",
                "type": ["struct", "struct", "double", "double", "double", "char", "double", "double", "double", "char", "struct"]
            },
            "load_cycle_data":
            {
                "description": "file containing the operating points for a define load cycle. Formatting: time, iPhRMS, uPhRMS, phi, uDC, fel, fPWM, name, log",
                "header": false,
                "units": {"time": "s", "iPhRMS": "A", "uPhRMS": "V", "phi": "rad", "uDC": "V", "fel": "Hz", "fPWM": "Hz", "name": "", "log": ""}, 
                "optional": false,
                "name": "04_Input/02_Load_cycle_data/",
                "format": "mat",
                "type": ["double", "double", "double", "double", "double", "double", "double", "char", "struct"]
            },
            "temperature_feedback":
            {
                "description": "file containing the temperature feedback data. Available only when T feedback is active",
                "header": true,
                "header_names": ["Tj_HS1_degC", "Tj_LS1_degC", "...", "Tj_HSN_degC", "Tj_LSN_degC"],
                "units": {"temperature": "C"},
                "optional": true,
                "name": "T_junction_feedback.csv",
                "format": "csv",
                "type": ["float, float"]
            }
        },
        "outputs":
        {
            "dp_parameters":
            {
                "description": "file with information regarding the current design point being calculated. File is created by this module. Information added: nameFET, commutationtype, nameLC",
                "header": true,
                "header_names": ["nameFET", "commutationtype", "nameLC"],
                "units": {},
                "optional": false,
                "name": "DP_PARAMETERS.csv",
                "format": "csv",
                "type": ["string"]
            },
            "fet_losses_time_series":
            {
                "description": "file containing the FET losses for each FET at each time step",
                "header": true,
                "header_names": ["Time_s", "P_HS1_W", "P_LS1_W", "...", "P_HSN_W", "P_LSN_W"],
                "units": {"time": "s", "power": "W"},
                "optional": false,
                "name": "Pv.csv",
                "format": "csv",
                "type": ["float"]
            }
        }
    },
    "rom_solver_prepro":
    {
        "description": "Module to generate the boundary condition file for the ROM solver",
        "inputs":
        {
            "fet_losses_time_series":
            {
                "description": "file containing the FET losses for each FET at each time step",
                "header": true,
                "header_names": ["Time_s"," P_HS1_W", "P_LS1_W", "...", "P_HSN_W", "P_LSN_W"],
                "units": {"time": "s", "power": "W"},
                "optional": false,
                "name": "Pv.csv",
                "format": "csv",
                "type": ["float"]
            },
            "rom_matrix_B_names":
            {
                "description": "file containing the names of the monitoring points for the boundary conditions of the ROM solver",
                "header": false,
                "units": {},
                "optional": false,
                "name": "mor.B.names",
                "format": "names",
                "type": ["str"]
            }
        },
        "outputs":
        {
            "dp_parameters":
            {
                "description": "file with information regarding the current design point being calculated. Information added: ROM_Model",
                "header": true,
                "header_names": ["nameFET", "commutationtype", "nameLC", "ROM_Model"],
                "units": {},
                "optional": false,
                "name": "DP_PARAMETERS.csv",
                "format": "csv",
                "type": ["string"]
            },
            "rom_solver_boundary_conditions":
            {
                "description": "file containing the boundary conditions for the ROM solver",
                "header": true,
                "header_names": ["time", "convt_cooler", "source_LS1", "source_HS1", "...", "source_LSN", "source_HSN"],
                "units": {"time": "s", "temperature": "C", "power": "W"},
                "optional": false,
                "name": "ROM_Solver_Input_u.csv",
                "format": "csv",
                "type": ["float"]
            }
        }
    },
    "rom_solver":
    {
        "inputs":
        {
            "fet_losses_time_series":
            {
                "description": "file containing the FET losses for each FET at each time step",
                "header": true,
                "header_names": ["Time_s", "P_HS1_W", "P_LS1_W", "...", "P_HSN_W", "P_LSN_W"],
                "units": {"time": "s", "power": "W"},
                "optional": false,
                "name": "Pv.csv",
                "format": "csv",
                "type": ["float"]
            },
            "rom_solver_boundary_conditions":
            {
                "description": "file containing the boundary conditions for the ROM solver",
                "header": true,
                "header_names": ["time", "convt_cooler", "source_LS1", "source_HS1", "...", "source_LSN", "source_HSN"],
                "units": {"time": "s", "temperature": "C", "power": "W"},
                "optional": false,
                "name": "ROM_Solver_Input_u.csv",
                "format": "csv",
                "type": ["float"]
            },
            "rom_matrix_A":
            {
                "description": "file containing the system matrix A of the ROM model",
                "header": false,
                "units": {},
                "optional": false,
                "name": "mor.A",
                "format": "A",
                "type": ["float"]
            },
            "rom_matrix_B":
            {
                "description": "file containing the matrix B of the ROM model",
                "header": false,
                "units": {},
                "optional": false,
                "name": "mor.B",
                "format": "B",
                "type": ["float"]
            },
            "rom_matrix_C":
            {
                "description": "file containing the matrix C of the ROM model",
                "header": false,
                "units": {},
                "optional": false,
                "name": "mor.C",
                "format": "C",
                "type": ["float"]
            },
            "rom_matrix_E":
            {
                "description": "file containing the matrix E of the ROM model. Used to convert the other matrices into state-space form",
                "header": false,
                "units": {},
                "optional": false,
                "name": "mor.E",
                "format": "E",
                "type": ["float"]
            },
            "rom_matrix_C_names":
            {
                "description": "file containing the names of the monitoring points defined in the ROM",
                "header": false,
                "units": {},
                "optional": false,
                "name": "mor.C.names",
                "format": "names",
                "type": ["str"]
            },
            "prom_parameter_files":
            {
                "description": "file containing the names of the parameters of the pROM",
                "header": false,
                "units": {},
                "optional": true,
                "name": "pmor_paramf.txt",
                "format": "txt",
                "type": ["str"]
            }
        },
        "outputs":
        {
            "temperature_time_series":
            {
                "description": "file containing the temperature profiles for each monitoring point",
                "header": true,
                "header_names": ["time", "mp1", "mp2", "...", "mpN"],
                "units": {"time": "s", "temperature": "C"},
                "optional": false,
                "name": "ROM_Solver_Output_y.csv",
                "format": "csv",
                "type": ["float"]
            },
            "temperature_profile_figure":
            {
                "description": "graphic representation of the temperature profiles for each monitoring point",
                "header": false,
                "units": {},
                "optional": false,
                "name": "ROM_Solver_Output_y.png",
                "format": "png",
                "type": ["img"]
            },
            "temperature_feedback":
            {
                "description": "file containing the temperature feedback data. Available only when T feedback is active",
                "header": true,
                "header_names": ["Tj_HS1_degC", "Tj_LS1_degC", "...", "Tj_HSN_degC", "Tj_LSN_degC"],
                "units": {"temperature": "C"},
                "optional": true,
                "name": "T_junction_feedback.csv",
                "format": "csv",
                "type": ["float"]
            }
        }
    },
	"arrhenius":
	{
		"description": "calculates field load equivalent hours based on temperature time series",
		"inputs":
		{
			"temperature_time_series":
			{
				"description": "file with temperature time series for each monitor point",
				"header": true,
				"header_names": ["time", "mp1", "mp2", "...", "mpN"],
				"units": {"time": "s", "temperature": "C"},
				"optional": false,
				"name": "ROM_Solver_Output_y.csv",
				"format": "csv",
				"type": {"float": ["time", "temperature"]}
			},
			"dp_parameters":
			{
				"description": "file with information regarding the current design point being calculated",
				"header": true,
				"header_names": ["nameFET", "commutationtype", "nameLC", "ROM_Model"],
				"units": {"nameFET": "", "commutationtype": "", "nameLC": "", "ROM_Model": ""},
				"optional": false,
				"name": "DP_PARAMETERS.csv",
				"format": "csv",
				"type": {"str": ["nameFET", "nameLC", "ROM_Model"], "int": ["commutationtype"]}
			},
			"empirical_constants":
			{
				"description": "file containing empirical constants for the arrhenius calculation",
				"header": true,
				"header_names": ["monitoring_point", "activation_energy", "reference_temperature"],
				"units": {"monitoring_point": "", "activation_energy": "eV", "temperature": "C"},
				"optional": false,
				"name": "arrhenius.csv",
				"format": "csv",
				"type": {"str": ["monitoring_point"], "float": ["activation_energy", "temperature"]}
			}
		},
		"outputs":
		{
			"results":
			{
				"description": "file with the results from the arrhenius calculation",
				"header": true,
				"header_names": ["monitoring_point", "field_load_equivalent_test_hours"],
				"units": {"mp_name": "", "time": "hours"},
				"optional": false,
				"name": "arrhenius_results.csv",
				"format": "csv",
				"type": {"str": ["monitoring_point"], "float": ["time"]}
			}
		}
	},
    "rainflow_counting":
    {
        "description": "Converts a uniaxial loading sequence of varying temperature or stress into an equivalent set of constant amplitude temperature or stress reversals.",
        "inputs":
        {
			"wafo_toolbox":
			{
				"description": "path to the wafo toolbox",
				"header": false,
				"header_names": [],
				"units": {},
				"optional": false,
				"name": "04_Input/wafo",
				"format": "",
				"type": []
			},
			"temperature_time_series":
			{
				"description": "file with temperature time series for each monitor point",
				"header": true,
				"header_names": ["time", "mp1", "mp2", "...", "mpN"],
				"units": {"time": "s", "temperature": "C"},
				"optional": false,
				"name": "ROM_Solver_Output_y.csv",
				"format": "csv",
				"type": ["float"]
			},
            "dp_parameters":
			{
				"description": "file with information regarding the current design point being calculated",
				"header": true,
				"header_names": ["nameFET", "commutationtype", "nameLC", "ROM_Model"],
				"units": {},
				"optional": false,
				"name": "DP_PARAMETERS.csv",
				"format": "csv",
				"type": ["string"]
			},
			"coffin_manson":
			{
				"description": "file with coffin manson empirical constants",
				"header": false,
				"header_names": [],
				"units": {},
				"optional": false,
				"name": "CoffinManson.csv",
				"format": "csv",
				"type": ["string", "float"]
			}
        },
        "outputs":
        {
            "rainflow_results":
            {
				"description": "file containing the rainflow results",
				"header": false,
				"header_names": [],
				"units": {},
				"optional": false,
				"name": "resultsRainflow.mat",
				"format": "mat",
				"type": []
            }
        }
    },
    "coffin_manson":
    {
        "description": "Calculates field load equivalent test cycles",
        "inputs":
        {
			"rainflow_results":
            {
				"description": "file containing the rainflow results",
				"header": false,
				"header_names": [],
				"units": {},
				"optional": false,
				"name": "resultsRainflow.mat",
				"format": "mat",
				"type": []
            },
            "dp_parameters":
			{
				"description": "file with information regarding the current design point being calculated",
				"header": true,
				"header_names": ["nameFET", "commutationtype", "nameLC", "ROM_Model"],
				"units": {},
				"optional": false,
				"name": "DP_PARAMETERS.csv",
				"format": "csv",
				"type": ["string"]
			},
			"coffin_manson":
			{
				"description": "file with coffin manson empirical constants",
				"header": false,
				"header_names": [],
				"units": {},
				"optional": false,
				"name": "CoffinManson.csv",
				"format": "csv",
				"type": ["string", "float"]
			}
        },
        "outputs":
        {
            "coffin_manson_results":
            {
				"description": "file containing the coffin manson results",
				"header": true,
				"header_names": ["name", "exponent", "Tref", "Cycle target"],
				"units": {},
				"optional": false,
				"name": "CoffinManson_WAFO.xlsx",
				"format": "xlsx",
				"type": []
            }
        }
    },
	    "data_saver":
    {
        "description": "module stores all relevant information from each design point into a pickle file",
        "inputs":
        {
            "pv_losses_time_series":
            {
                "description": "file containing the power losses time series",
                "header": true,
                "header_names": ["Time_s", "P_HS1_W", "P_LS1_W", "...", "P_HSN_W", "P_LSN_W"],
                "units": {"time": "s", "power": "W"},
                "optional": false,
                "name": "Pv.csv",
                "format": "csv",
                "type": {"float": ["time", "power"]}
            },
            "temperature_time_series":
            {
                "description": "file containing the temperature profiles for each monitoring point",
                "header": true,
                "header_names": ["time", "mp1", "mp2", "...", "mpN"],
                "units": {"time": "s", "temperature": "C"},
                "optional": false,
                "name": "ROM_Solver_Output_y.csv",
                "format": "csv",
                "type": {"float": ["time", "temperature"]}
            },
            "arrhenius_results":
            {
                "description": "file with the results from the arrhenius calculation",
                "header": true,
                "header_names": ["monitoring_point", "field_load_equivalent_test_hours"],
                "units": {"mp_name": "", "time": "hours"},
                "optional": false,
                "name": "arrhenius_results.csv",
                "format": "csv",
                "type": {"str": ["mp_name"], "float": ["time"]}
            },
            "coffin_manson_results":
            {
                "description": "file with the results from the coffin manson calculation",
                "header": true,
                "header_names": ["name", "exponent", "Tref", "Cycle target"],
                "units": {"name": "", "exponent": "", "Tref": "C", "Cycle target": "cycles"},
                "optional": false,
                "name": "CoffinManson_WAFO.xlsx",
                "format": "xlsx",
                "type": ["str", "float"]
            },
            "dp_parameters":
            {
                "description": "file with information regarding the current design point being calculated",
                "header": true,
                "header_names": ["nameFET", "commutationtype", "nameLC", "ROM_Model"],
                "units": {"nameFET": "", "commutationtype": "", "nameLC": "", "ROM_Model": ""},
                "optional": false,
                "name": "DP_PARAMETERS.csv",
                "format": "csv",
                "type": {"str": ["nameFET", "nameLC", "ROM_Model"], "int": ["commutationtype"]}
            }
        },
        "outputs":
        {
            "pickle_file_suffix":
            {
                "description": "pickle file containing a dictionary with all relevant information from a design point. Number of pickle files outputted is equal to the number of design points.",
                "header": false,
                "name": "DP_Output.pickle",
                "format": "pickle",
                "dict_format": {"rom_model": {"FET_Loss": {"load_cycle": {
                                                                          "Pv": "DataFrame with Ploss time series",
                                                                          "Temperature": "DataFrame with temperature time series",
                                                                          "Arrhenius": "dictionary with key,value = mp_name, equivalent_test_hours",
                                                                          "CoffinManson": "dictionary with key,value = mp_name, equivalent_test_cycles"
                                                                         }
                                                            }
                                            }
                                },
                "type": {"str": ["rom_model", "FET_Loss", "load_cycle"], "float": ["time", "power", "temperature"]}
            }
        }
    },
	"post_processor":
    {
        "description": "postprocess the data stored in pickled files according to pre-defined requirements",
        "inputs":
        {
            "pickle_file":
            {
                "description": "pickle file containing a dictionary with all relevant information from a design point. Number of pickle files outputted is equal to the number of design points.",
                "header": false,
                "name": "DP_Output.pickle",
                "format": "pickle",
                "dict_format": {"rom_model": {"FET_Loss": {"load_cycle": {
                                                                          "Pv": "DataFrame with Ploss time series",
                                                                          "Temperature": "DataFrame with temperature time series",
                                                                          "Arrhenius": "dictionary with key,value = mp_name, equivalent_test_hours",
                                                                          "CoffinManson": "dictionary with key,value = mp_name, equivalent_test_cycles"
                                                                         }
                                                            }
                                            }
                                },
                "type": {"str": ["rom_model", "FET_Loss", "load_cycle"], "float": ["time", "power", "temperature"]}
            },
            "load_case_distribution":
            {
                "description": "file with the percentual distribution of each load case",
                "header": true,
                "header_names": ["LoadCase", "Distribution"],
                "units": {"LoadCase": "", "Distribution": ""},
                "optional": false,
                "name": "LoadCaseDistribution.csv",
                "format": "csv",
                "type": {"str": ["LoadCase"], "float": ["Distribution"]}
            }
        },
        "outputs":
        {
            "to be defined":
            {
                
            }
        }
    }
}